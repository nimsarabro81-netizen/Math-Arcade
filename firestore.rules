/**
 * @file Firestore Security Rules for VectorZen and Algebra Arena.
 *
 * @corePhilosophy:
 *   This ruleset prioritizes public read access for game settings and user rankings,
 *   while restricting write access to prevent unauthorized modifications.
 *   It allows listing of game settings and user ranks. There is no user-specific data.
 *
 * @dataStructure:
 *   - /gameSettings: Stores global game settings, readable by all, writable by none.
 *   - /userRanks: Stores user rankings for VectorZen, readable by all, writable by none.
 *   - /algebraRanks: Stores user rankings for Algebra Arena, readable by all, writable by none.
 *   - /equationRanks: Stores user rankings for Equation Equilibrium, readable by all, writable by none.
 *
 * @keySecurityDecisions:
 *   - User listing is implicitly allowed due to the public nature of the ranking data.
 *   - Write operations are universally denied to prevent unauthorized data manipulation.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read the active status of games. Write access is denied.
     * @path /gameSettings
     * @allow (get, list): Any user can read game settings.
     * @deny (create, update, delete): No one can create, update, or delete game settings.
     * @principle Allows public read access to game settings; denies all write operations.
     */
    match /gameSettings/{gameSettingId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read user rankings for VectorZen. Write access is denied.
     * @path /userRanks
     * @allow (get, list): Any user can read VectorZen user ranks.
     * @deny (create, update, delete): No one can create, update, or delete VectorZen user ranks.
     * @principle Allows public read access to user ranking data; denies all write operations.
     */
    match /userRanks/{userRankId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read user rankings for Algebra Arena. Write access is denied.
     * @path /algebraRanks
     * @allow (get, list): Any user can read Algebra Arena user ranks.
     * @deny (create, update, delete): No one can create, update, or delete Algebra Arena user ranks.
     * @principle Allows public read access to user ranking data; denies all write operations.
     */
    match /algebraRanks/{algebraRankId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read user rankings for Equation Equilibrium. Write access is denied.
     * @path /equationRanks
     * @allow (get, list): Any user can read Equation Equilibrium user ranks.
     * @deny (create, update, delete): No one can create, update, or delete Equation Equilibrium user ranks.
     * @principle Allows public read access to user ranking data; denies all write operations.
     */
    match /equationRanks/{equationRankId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}